<div class="add-members-wrapper card">
    <div class="header">
        <p>Add members</p>
        <img src="assets/img/close_icon.svg" (click)="mainService.closePopups()">
    </div>
    <p>{{currentChannel.name}}</p>
    <app-search [searchType]="'user-search'" [userSelection]="channelMembers"
        (selectedUsers)="handleSelectedUsers($event)"></app-search>
    <div class="selected-users">
        @for (user of channelMembers; track $index) {
        <div class="selected-user">
            <img src="{{channelService.getImg(user.picture)}}">
            <p>{{user.username}}</p>
            <img class="img-button" src="assets/img/close_icon.svg" (click)="removeMember(user)">
        </div>
        } @empty {
            <p>No users selected</p>
        }
    </div>
    <div class="button-wrapper">
        <button class="button1" (click)="addMembers()">Save</button>
    </div>
</div>