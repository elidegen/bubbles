<div class="search-result card">
    <p class="seperator">Users</p>
    @for (user of searchSolution.users; track $index) {
    <div class=" preview">
        <div class="online-wrapper">
            <img src="{{user.picture}}">
            <div [ngClass]="user.is_online ? 'online' : 'offline'"></div>
        </div>
        <p>{{user.username}}</p>
    </div>
    }

    @if (searchType === 'search') {
    <p class="seperator">Channels</p>
    @for (channel of searchSolution.channels; track $index) {
    <div class=" preview">
        <img src="{{channel.picture || 'assets/img/profile_placeholder.svg'}}">
        <p>{{channel.name}}</p>
    </div>
    }

    <p class="seperator">Messages</p>
    @for (message of searchSolution.messages; track $index) {
    <div class=" message preview">

        <div class="online-wrapper">
            <img src="{{this.userService.getUser(message.author).picture}}">
            <div [ngClass]="this.userService.getUser(message.author).is_online ? 'online' : 'offline'"></div>
        </div>

        <div class="details">
            <p class="author">{{this.userService.getUser(message.author).username}}</p>
            <p>{{message.content}}</p>
            <p class="source">in channel: {{channelService.getChannel(message.source).name}}</p>
        </div>
    </div>
    }
    @for (thread of searchSolution.threads; track $index) {
    <div class=" message preview">

        <div class="online-wrapper">
            <img src="{{this.userService.getUser(thread.author).picture}}">
            <div [ngClass]="this.userService.getUser(thread.author).is_online ? 'online' : 'offline'"></div>
        </div>

        <div class="details">
            <p class="author">{{this.userService.getUser(thread.author).username}}</p>
            <p>{{thread.content}}</p>
            <p class="source">in thread: {{messageService.getMessage(thread.source).content}}</p>
        </div>
    </div>
    }
    }
</div>